//apply plugin: 'application'
//apply plugin: "org.openjfx.javafxplugin"

plugins {
    id 'application'
    id 'org.openjfx.javafxplugin' version '0.0.9'
}

repositories {
    mavenCentral()
}

description 'ICEpdf qa framework application'

mainClassName = "org.icepdf.qa.viewer.Launcher"
applicationDefaultJvmArgs = ["-Xms64m", "-Xmx4096m"]

def sectionName = 'org/icepdf/qa/'

repositories {
    mavenCentral()
    jcenter()
}

jar {
    baseName 'icepdf-qa'
    appendix 'viewer'
    version "${VERSION}"
    classifier "${RELEASE_TYPE}"

    manifest {
        attributes("Main-Class": 'org.icepdf.qa.viewer.Main')
        // section names attributes
        attributes("Implementation-Title": "${baseName + '-' + appendix}", "${sectionName}")
        attributes("Implementation-Version": "${version + '-' + classifier}", "${sectionName}")
        attributes("Implementation-Vendor": "${COMPANY}", "${sectionName}")
    }
}

javafx {
    version = "11.0.2"
    modules = [ 'javafx.base', 'javafx.controls', 'javafx.graphics' ]
}


//dependencies {
//    // todo pull these versions from parent project.
//    // jackson json.
//    compile group: 'org.openjfx', name: 'javafx-plugin', version: '0.0.9'
//    compile group: 'com.fasterxml.jackson.core', name: 'jackson-core', version: '2.8.6'
//    compile group: 'com.fasterxml.jackson.core', name: 'jackson-annotations', version: '2.8.6'
//    compile group: 'com.fasterxml.jackson.core', name: 'jackson-databind', version: '2.8.6'
//    compile group: 'org.apache.commons', name: 'commons-io', version: '1.3.2'
//    compile group: 'junit', name: 'junit', version: '4.12'
//    // tiff, jpeg2000 and jbig decoding
//    compile 'com.twelvemonkeys.imageio:imageio-tiff:3.4-SNAPSHOT'
//    compile 'com.github.jai-imageio:jai-imageio-jpeg2000:1.3.0'
//    compile 'org.apache.pdfbox:jbig2-imageio:3.0.0-SNAPSHOT'
//}

dependencies {
    // jackson json.
//    implementation group: 'org.openjfx', name: 'javafx-plugin', version: '0.0.9'
    implementation group: 'com.fasterxml.jackson.core', name: 'jackson-core', version: '2.8.6'
    implementation group: 'com.fasterxml.jackson.core', name: 'jackson-annotations', version: '2.8.6'
    implementation group: 'com.fasterxml.jackson.core', name: 'jackson-databind', version: '2.8.6'
    implementation group: 'org.apache.commons', name: 'commons-io', version: '1.3.2'
    implementation group: 'junit', name: 'junit', version: '4.12'
    // signature validation.
    implementation 'org.bouncycastle:bcprov-jdk15on:' + "${BOUNCY_VERSION}"
    implementation 'org.bouncycastle:bcprov-ext-jdk15on:' + "${BOUNCY_VERSION}"
    implementation 'org.bouncycastle:bcpkix-jdk15on:' + "${BOUNCY_VERSION}"
    // tiff, jpeg2000 and jbig decoding
    implementation 'com.twelvemonkeys.imageio:imageio-tiff:'  + "${MONKEY_VERSION}"
    implementation 'com.github.jai-imageio:jai-imageio-jpeg2000:' + "${JAI_VERSION}"
    implementation 'org.apache.pdfbox:jbig2-imageio:' + "${JBIG2_VERSION}"

}
